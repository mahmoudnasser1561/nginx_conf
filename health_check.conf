http {
    include conf.d/compression.conf
    includes ssl_config/*.conf


upstream backend {
    server 10.10.12.45:80 weight=1;
    server app.example.com:80 weight=2;
    server spare.example.com:80 backup;
}

server {
    location / {
            proxy_pass http://backend;
            health_check interval=2s
            fails=2
            passes=5
            uri=/
            match=welcome
        }
    }

    match welcome {
        status 200;
        header Content-Type=text/html
        body ~ "Welcome to nginx!";
    }
}